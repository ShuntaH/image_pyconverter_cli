[tox]
envlist =
    check
    build
    py{38,39,310}
isolated_build = True
skip_missing_interpreters = True


[gh-actions]
python =
    3.8: py38
    3.9: py39
    3.10: check build, py310


[testenv:check]
skip_install = true
deps = pre-commit
commands = pre-commit run --all-files


[testenv:build]
allowlist_externals = python
deps =
	build
;	twine>=3
    python-dotenv
skip_install = true
commands = python -m build

[testenv]
deps =
    pytest
    python-dotenv
skip_install = true
commands = pytest -s


[testenv:py310]
;use installed pytest in dev env
;allowlist_externals = pytest
deps =
    pytest
    python-dotenv
skip_install = true
commands = pytest -s
