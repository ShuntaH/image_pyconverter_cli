[tox]
envlist =
    check
    build
    py{38,39,310}
isolated_build = True
skip_missing_interpreters = True


[gh-actions]
python =
    3.8: py38
    3.9: py39
    3.10: check build, py310


[testenv:check]
allowlist_externals = pre-commit
commands = pre-commit run --all-files


[testenv:build]
;'build' is a package and cannot be directly executed
deps =
	build
    python-dotenv
commands = python -m build

[testenv]
allowlist_externals = pytest
commands = pytest -s


[testenv:py310]
;use installed pytest in dev env
allowlist_externals = pytest
commands = pytest -s
